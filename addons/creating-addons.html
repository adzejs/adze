<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Creating Add-on&#39;s | Adze JS - Better JavaScript Logging</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script async="true" defer="true" data-domain="adzejs.com" src="https://plausible.io/js/plausible.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/adze/dist/adze.min.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Share&amp;display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" sizes="64x64" href="/favicon.png">
    <meta name="description" content="A library for shaping your logs.">
    <meta property="og:title" content="Adze - Better JavaScript Logging">
    <meta property="og:description" content="A TypeScript enabled library with a beautiful API that simplifies JavaScript logging.">
    <meta property="og:image" content="https://adzejs.com/assets/img/demo.ce24f23e.png">
    <meta property="og:url" content="https://www.adzejs.com/">
    <meta property="twitter:title" content="Adze - Better JavaScript Logging">
    <meta property="twitter:description" content="A TypeScript enabled library with a beautiful API that simplifies JavaScript logging.">
    <meta property="twitter:image" content="https://adzejs.com/assets/img/demo.ce24f23e.png">
    <meta property="twitter:card" content="summary_large_image">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.0ae45e58.css" as="style"><link rel="preload" href="/assets/js/app.017a5d3b.js" as="script"><link rel="preload" href="/assets/js/2.8a90f69c.js" as="script"><link rel="preload" href="/assets/js/21.ff5f9b94.js" as="script"><link rel="prefetch" href="/assets/js/10.63e6ff2f.js"><link rel="prefetch" href="/assets/js/11.24a5d4dc.js"><link rel="prefetch" href="/assets/js/12.602ff23a.js"><link rel="prefetch" href="/assets/js/13.4b80865f.js"><link rel="prefetch" href="/assets/js/14.f997a49f.js"><link rel="prefetch" href="/assets/js/15.013cb310.js"><link rel="prefetch" href="/assets/js/16.72bee167.js"><link rel="prefetch" href="/assets/js/17.e84be753.js"><link rel="prefetch" href="/assets/js/18.c2faaea3.js"><link rel="prefetch" href="/assets/js/19.307f3c57.js"><link rel="prefetch" href="/assets/js/20.57d769aa.js"><link rel="prefetch" href="/assets/js/22.9c2a71f9.js"><link rel="prefetch" href="/assets/js/23.00ae8a7f.js"><link rel="prefetch" href="/assets/js/24.54123392.js"><link rel="prefetch" href="/assets/js/25.12e243ce.js"><link rel="prefetch" href="/assets/js/26.518efd1a.js"><link rel="prefetch" href="/assets/js/27.8e0f33df.js"><link rel="prefetch" href="/assets/js/28.1f97995a.js"><link rel="prefetch" href="/assets/js/3.60deda3a.js"><link rel="prefetch" href="/assets/js/4.e5620543.js"><link rel="prefetch" href="/assets/js/5.a45759b3.js"><link rel="prefetch" href="/assets/js/6.49ba4101.js"><link rel="prefetch" href="/assets/js/7.e24dd8a1.js"><link rel="prefetch" href="/assets/js/8.a9b5d9f0.js"><link rel="prefetch" href="/assets/js/9.05ca1da5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0ae45e58.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/icon.svg" alt="Adze JS - Better JavaScript Logging" class="logo"> <span class="site-name can-hide">Adze JS - Better JavaScript Logging</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="/faqs/" class="nav-link">
  FAQ's
</a></div><div class="nav-item"><a href="/addons/creating-addons.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Add-on's
</a></div> <a href="https://github.com/AJStacy/Adze" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="/faqs/" class="nav-link">
  FAQ's
</a></div><div class="nav-item"><a href="/addons/creating-addons.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Add-on's
</a></div> <a href="https://github.com/AJStacy/Adze" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Add-on's</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/addons/creating-addons.html" aria-current="page" class="active sidebar-link">Creating Add-on's</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/addons/creating-addons.html#best-practices" class="sidebar-link">Best Practices</a></li><li class="sidebar-sub-header"><a href="/addons/creating-addons.html#add-on-example" class="sidebar-link">Add-on Example</a></li></ul></li><li><a href="/addons/official-addons.html" class="sidebar-link">Official Add-on's</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="creating-add-on-s"><a href="#creating-add-on-s" class="header-anchor">#</a> Creating Add-on's</h1> <p>One of the core tenets of Adze is to <strong>not do too much</strong>. This means that the core functionality of Adze is to provide the user with the ability to have control over their logs, how they are shaped, and to be able to listen to their logs and do with the log data as they please. Anything resembling transporting log data to files, API's, or databases is purposefully omitted from the core. However, because of Adze <a href="/guide/shed-concepts.html#listeners">log listeners</a>, there is opportunity for add-on packages to provide simple solutions for handling log data transports and various other solutions.</p> <h2 id="best-practices"><a href="#best-practices" class="header-anchor">#</a> Best Practices</h2> <p>When creating add-on's for Adze your primary interface should be wrapping a <a href="/guide/shed-concepts.html#listeners">log listener</a>. By wrapping a log listener you can intercept the <a href="/guide/data.html#label-data-object">log data</a> and <a href="/guide/data.html#log-render">log render</a> and act upon it. To do this, your add-on should export a function that takes a callback function as a parameter and then executes that callback function at a later time and forwards the <strong>log data</strong> and <strong>log render</strong> to it as parameters. Let's take a look at an example.</p> <h2 id="add-on-example"><a href="#add-on-example" class="header-anchor">#</a> Add-on Example</h2> <p>Let's first create our wrapper function that our add-on will expose.</p> <h4 id="my-addon-js"><a href="#my-addon-js" class="header-anchor">#</a> my-addon.js</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// We'll create an exported function that takes a callback as a parameter</span>
<span class="token comment">// and sets a default to an empty anonymous function.</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">MyAddon</span><span class="token punctuation">(</span><span class="token function-variable function">cb</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Our wrapper will return a log listener callback function that</span>
  <span class="token comment">// accepts log data and a log render.</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> render</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do stuff with the log data and log render</span>

    <span class="token comment">// Then make sure to execute the user specified callback before finishing.</span>
    <span class="token function">cb</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> render<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="my-app-js"><a href="#my-app-js" class="header-anchor">#</a> my-app.js</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> adze<span class="token punctuation">,</span> createShed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'adze'</span><span class="token punctuation">;</span>

<span class="token comment">// Now, in our app, we'll import the wrapper function we created above.</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MyAddon <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./my-addon.js'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> shed <span class="token operator">=</span> <span class="token function">createShed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Now, to use the add-on, I'll wrap my log listener callback function with</span>
<span class="token comment">// the MyAddon wrapper. We'll target all logs to use this add-on.</span>
shed<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">,</span> <span class="token function">MyAddon</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> render</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do normal log listener stuff here...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Or alternatively, since we specified an empty anonymous function </span>
<span class="token comment">// as the default parameter of our add-on, we can call it empty.</span>
shed<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">,</span> <span class="token function">MyAddon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">adze</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'This log will be intercepted by our add-on!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Following the pattern above allows your add-on to operate on log data and log renders while also giving control to the end-user over which logs it wants your add-on to target.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/addons/official-addons.html">
        Official Add-on's
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.017a5d3b.js" defer></script><script src="/assets/js/2.8a90f69c.js" defer></script><script src="/assets/js/21.ff5f9b94.js" defer></script>
  </body>
</html>
