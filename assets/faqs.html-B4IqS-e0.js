import{_ as e,c as s,o as n,a}from"./app-CocLtHWe.js";const t={},o=a(`<h1 id="frequently-asked-questions" tabindex="-1"><a class="header-anchor" href="#frequently-asked-questions"><span>Frequently Asked Questions</span></a></h1><p>On this page we hope to document frequently asked questions in regards to using the adze library.</p><h2 id="how-can-i-make-adze-work-with-nestjs" tabindex="-1"><a class="header-anchor" href="#how-can-i-make-adze-work-with-nestjs"><span>How can I make Adze work with NestJS?</span></a></h2><h3 id="problem" tabindex="-1"><a class="header-anchor" href="#problem"><span>Problem</span></a></h3><p>&quot;When installing Adze in NestJS I get the following error:&quot;</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">Error <span class="token punctuation">[</span>ERR_REQUIRE_ESM<span class="token punctuation">]</span>: require<span class="token punctuation">(</span><span class="token punctuation">)</span> of ES Module /Users/andrewstacy/Projects/personal/adze/dist/index.js from /Users/andrewstacy/Projects/personal/project-name/dist/logger.js not supported.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="solution" tabindex="-1"><a class="header-anchor" href="#solution"><span>Solution</span></a></h3><p>NestJS currently does not support importing of ES Modules directly. There is currently an <a href="https://github.com/nestjs/nest/pull/8736" target="_blank" rel="noopener noreferrer">open PR on GitHub</a> to resolve this.</p><p>There are currently two preferred options for working around this limitation:</p><h4 id="use-experimental-require-module-flag" tabindex="-1"><a class="header-anchor" href="#use-experimental-require-module-flag"><span>Use Experimental Require Module Flag</span></a></h4><p>The easiest way to work around this issue is to use the node <code>--experimental-require-module</code> flag. Keep in mind that this will only work with <strong>node version &gt;= 22.x</strong> and it is an experimental feature that can change at any time with new node versions.</p><p>Change your nestjs scripts to look like this:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nest start -e &#39;node --experimental-require-module&#39;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;start:dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nest start --watch -e &#39;node --experimental-require-module&#39;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;start:debug&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nest start --debug --watch -e &#39;node --experimental-require-module&#39;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;start:prod&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node --experimental-require-module dist/main&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="use-helpers" tabindex="-1"><a class="header-anchor" href="#use-helpers"><span>Use Helpers</span></a></h4><p>This method is a bit safer, but is also quite ugly. It requires the use of the dynamic import function with means that you&#39;ll have to await the function each time you want a copy of your adze logger.</p><p>More information about this method can be found at this StackOverflow post:</p><p><a href="https://stackoverflow.com/questions/74830166/unable-to-import-esm-module-in-nestjs" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/74830166/unable-to-import-esm-module-in-nestjs</a></p>`,17),r=[o];function i(l,p){return n(),s("div",null,r)}const c=e(t,[["render",i],["__file","faqs.html.vue"]]),d=JSON.parse('{"path":"/faqs.html","title":"Frequently Asked Questions","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"How can I make Adze work with NestJS?","slug":"how-can-i-make-adze-work-with-nestjs","link":"#how-can-i-make-adze-work-with-nestjs","children":[{"level":3,"title":"Problem","slug":"problem","link":"#problem","children":[]},{"level":3,"title":"Solution","slug":"solution","link":"#solution","children":[]}]}],"git":{"updatedTime":1727792929000,"contributors":[{"name":"Andrew Stacy","email":"astacy@stratacache.com","commits":1}]},"filePathRelative":"faqs.md","excerpt":"\\n<p>On this page we hope to document frequently asked questions in regards to using the adze library.</p>\\n<h2>How can I make Adze work with NestJS?</h2>\\n<h3>Problem</h3>\\n<p>\\"When installing Adze in NestJS I get the following error:\\"</p>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"prismjs\\" data-ext=\\"sh\\" data-title=\\"sh\\"><pre><code><span class=\\"line\\">Error <span class=\\"token punctuation\\">[</span>ERR_REQUIRE_ESM<span class=\\"token punctuation\\">]</span>: require<span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> of ES Module /Users/andrewstacy/Projects/personal/adze/dist/index.js from /Users/andrewstacy/Projects/personal/project-name/dist/logger.js not supported.</span>\\n<span class=\\"line\\"></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>"}');export{c as comp,d as data};
