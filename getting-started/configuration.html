<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.14" />
    <style>
      :root {
        --c-bg: #fff;
      }

      html.dark {
        --c-bg: #22272e;
      }

      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.classList.toggle('dark', true)
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <meta property="og:title" content="Adze - Universal JavaScript Logging"><meta property="og:description" content="A universal logging library that makes logging simple for SSR or new runtimes like Bun and Deno."><meta property="og:image" content="https://adzejs.com/assets/demo-DkYm-IJC.jpg"><meta property="og:url" content="https://www.adzejs.com/"><meta property="twitter:title" content="Adze - Better JavaScript Logging"><meta property="twitter:description" content="A TypeScript enabled library with a beautiful API that simplifies JavaScript logging."><meta property="twitter:image" content="https://adzejs.com/assets/demo-DkYm-IJC.jpg"><meta property="twitter:card" content="summary_large_image"><script async defer data-domain="adzejs.com" src="https://plausible.io/js/script.js"></script><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Share&display=swap" rel="stylesheet"><meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><link rel="icon" href="/images/icon.svg"><meta name="apple-mobile-web-app-status-bar-style" content="black"><title>Configuration | Universal Logging for Typescript/JavaScript</title><meta name="description" content="A universal, modern, and extendable logging library for JavaScript and TypeScript.">
    <link rel="preload" href="/assets/style-CaJGt_F5.css" as="style"><link rel="stylesheet" href="/assets/style-CaJGt_F5.css">
    <link rel="modulepreload" href="/assets/app-CiZ6VypJ.js"><link rel="modulepreload" href="/assets/configuration.html-DpYETlez.js">
    <link rel="prefetch" href="/assets/index.html-D2dVE_tK.js" as="script"><link rel="prefetch" href="/assets/faqs.html-CYMipsNe.js" as="script"><link rel="prefetch" href="/assets/plugins.html-DrE0mOnD.js" as="script"><link rel="prefetch" href="/assets/annotation.html-BuPN3cif.js" as="script"><link rel="prefetch" href="/assets/capture-data.html-CGJDbixb.js" as="script"><link rel="prefetch" href="/assets/concepts.html-MIfxpZcm.js" as="script"><link rel="prefetch" href="/assets/filtering.html-BKcnhdEg.js" as="script"><link rel="prefetch" href="/assets/global-store.html-CPvpv5d0.js" as="script"><link rel="prefetch" href="/assets/installation.html-rc0YPfI_.js" as="script"><link rel="prefetch" href="/assets/introduction.html-EVAs1P-1.js" as="script"><link rel="prefetch" href="/assets/migrating.html-BoBbMX4g.js" as="script"><link rel="prefetch" href="/assets/putting-it-all-together.html-DjdYOGEh.js" as="script"><link rel="prefetch" href="/assets/setup.html-CQmLlikd.js" as="script"><link rel="prefetch" href="/assets/threading.html-B8ngLDB4.js" as="script"><link rel="prefetch" href="/assets/tools.html-DnUCZnSD.js" as="script"><link rel="prefetch" href="/assets/chainable-api.html-BDY9szBY.js" as="script"><link rel="prefetch" href="/assets/configurable.html-CMlS_iTL.js" as="script"><link rel="prefetch" href="/assets/footer.html-Cq1zSaR-.js" as="script"><link rel="prefetch" href="/assets/getting-started-is-easy.html-B8PF-3_7.js" as="script"><link rel="prefetch" href="/assets/global-store.html-8MtOawbc.js" as="script"><link rel="prefetch" href="/assets/much-more.html-BqjR4plt.js" as="script"><link rel="prefetch" href="/assets/typescript-first.html-fQa7S6ls.js" as="script"><link rel="prefetch" href="/assets/universal.html-BSB6K9Ai.js" as="script"><link rel="prefetch" href="/assets/configuration.html--dPd24cK.js" as="script"><link rel="prefetch" href="/assets/formatters.html-DFY36eOv.js" as="script"><link rel="prefetch" href="/assets/getters.html-CkmabD2Z.js" as="script"><link rel="prefetch" href="/assets/global-store.html-CkPBM33z.js" as="script"><link rel="prefetch" href="/assets/introduction.html-C08lEno6.js" as="script"><link rel="prefetch" href="/assets/log-class.html-CPaGtNZa.js" as="script"><link rel="prefetch" href="/assets/micro-frontends.html-tmSH4EYp.js" as="script"><link rel="prefetch" href="/assets/middleware.html-jr0ydo9m.js" as="script"><link rel="prefetch" href="/assets/modifiers.html-C6ZF8kHi.js" as="script"><link rel="prefetch" href="/assets/terminators.html-Ppt-8Dpt.js" as="script"><link rel="prefetch" href="/assets/tools.html-D3uOb2Bg.js" as="script"><link rel="prefetch" href="/assets/unit-testing.html-DANQvwJ4.js" as="script"><link rel="prefetch" href="/assets/404.html-nqsRIjih.js" as="script"><link rel="prefetch" href="/assets/SearchResult-e7wpYVGJ.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon"><!--[--><header class="vp-navbar"><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><!----><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Universal Logging for Typescript/JavaScript</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/getting-started/introduction.html" aria-label="Getting Started"><!---->Getting Started<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/reference/introduction.html" aria-label="Reference Manual"><!---->Reference Manual<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/plugins.html" aria-label="Plugins"><!---->Plugins<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/faqs.html" aria-label="FAQ&#39;s"><!---->FAQ&#39;s<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://v1.adzejs.com/" aria-label="v1.x" rel="noopener noreferrer" target="_blank"><!---->v1.x<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/adzejs/adze" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><button class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><button type="button" class="search-pro-button" aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon" name="search"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">Search</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar"><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/getting-started/introduction.html" aria-label="Getting Started"><!---->Getting Started<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/reference/introduction.html" aria-label="Reference Manual"><!---->Reference Manual<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/plugins.html" aria-label="Plugins"><!---->Plugins<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/faqs.html" aria-label="FAQ&#39;s"><!---->FAQ&#39;s<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://v1.adzejs.com/" aria-label="v1.x" rel="noopener noreferrer" target="_blank"><!---->v1.x<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/adzejs/adze" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading active" href="/getting-started/introduction.html" aria-label="Getting Started"><!---->Getting Started<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/getting-started/introduction.html" aria-label="Introduction"><!---->Introduction<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/getting-started/installation.html" aria-label="Installation"><!---->Installation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/getting-started/migrating.html" aria-label="Migrating from v1"><!---->Migrating from v1<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/getting-started/concepts.html" aria-label="Concepts"><!---->Concepts<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/getting-started/setup.html" aria-label="Setup"><!---->Setup<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/getting-started/configuration.html" aria-label="Configuration"><!---->Configuration<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/getting-started/annotation.html" aria-label="Log Annotation"><!---->Log Annotation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/getting-started/global-store.html" aria-label="Global Store"><!---->Global Store<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/getting-started/capture-data.html" aria-label="Capturing Log Data"><!---->Capturing Log Data<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/getting-started/threading.html" aria-label="Log Threading (MDC)"><!---->Log Threading (MDC)<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/getting-started/filtering.html" aria-label="Filtering Logs"><!---->Filtering Logs<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/getting-started/tools.html" aria-label="Tools"><!---->Tools<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/getting-started/putting-it-all-together.html" aria-label="Putting It All Together"><!---->Putting It All Together<!----></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="configuration" tabindex="-1"><a class="header-anchor" href="#configuration"><span>Configuration</span></a></h1><p>Now that we have a shared logger from the <a href="./setup">setup</a> section we may want to apply some more advanced configuration. In the following steps we&#39;ll take a look at how to change the active log level, change the output format of our logs, and even add a completely custom log level.</p><h2 id="set-the-active-log-level" tabindex="-1"><a class="header-anchor" href="#set-the-active-log-level"><span>Set the Active Log Level</span></a></h2><p>When we are writing logs for our applications, there are many different levels of information that we want to capture. However, we do not always want to see every level of detail at all times. This is where log levels come into play.</p><p>Log levels are categorized by the most severe being the lowest to the most <a href="https://www.merriam-webster.com/dictionary/innocuous" target="_blank" rel="noopener noreferrer">innocuous</a> being the highest.</p><p>By ordering our logs by severity in this way, when problems arise, we can simply raise our active log level and all logs that are less than or equal to the active level will be rendered. This allows us to capture only the most important logs the majority of the time, but in cases where we need to debug something, we can increase the visibility into our application.</p><p>Adze comes with <strong>9</strong> log levels by default, ranging from levels <strong>0 through 8</strong>.</p><ol start="0"><li><a class="route-link" href="/reference/terminators.html#alert"><strong>Alert</strong></a> - This level should only be used for logs that require immediate attention. This should be used sparingly and only for the most critical of errors.</li><li><a class="route-link" href="/reference/terminators.html#error"><strong>Error</strong></a> - Use this for logging fatal errors or errors that impact functionality of your application.</li><li><a class="route-link" href="/reference/terminators.html#warn"><strong>Warn</strong></a> - Use this for logging issues that may impact app performance in a less impactful way than an error.</li><li><a class="route-link" href="/reference/terminators.html#info"><strong>Info</strong></a> - Use this for logging general insights into your application. This level does not indicate any problems.</li><li><a class="route-link" href="/reference/terminators.html#fail"><strong>Fail</strong></a> - Use this for logging network communication errors or other non-fatal errors that do not break your application.</li><li><a class="route-link" href="/reference/terminators.html#success"><strong>Success</strong></a> - Use this for logging successful network communications or other successful operations within your app.</li><li><a class="route-link" href="/reference/terminators.html#log"><strong>Log</strong></a> - Use this for general logging that doesn&#39;t apply to any of the lower levels.</li><li><a class="route-link" href="/reference/terminators.html#debug"><strong>Debug</strong></a> - Use this for logging information that you typically do not want to see unless you are debugging a problem with your application. This is typically hidden by default.</li><li><a class="route-link" href="/reference/terminators.html#verbose"><strong>Verbose</strong></a> - Use this for logging extremely detailed debugging information. Use this level when the values you are logging are granular enough that they are no longer easily human readable.</li></ol><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>By default the active level is set to 6.</p></div><p>Let&#39;s lower our active level so that we only see alert, error, warn, and info logs.</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token comment">// ./src/logger.ts</span></span>
<span class="line"><span class="token keyword">import</span> adze<span class="token punctuation">,</span> <span class="token punctuation">{</span> setup <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;adze&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Set our active level to 3</span></span>
<span class="line"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  activeLevel<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> logger <span class="token operator">=</span> adze<span class="token punctuation">.</span>withEmoji<span class="token punctuation">.</span>timestamp<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> logger<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Adze also supports using <strong>level names</strong> for setting the active level. We&#39;ll use this going forward since it&#39;s more readable.</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token comment">// ./src/logger.ts</span></span>
<span class="line"><span class="token keyword">import</span> adze<span class="token punctuation">,</span> <span class="token punctuation">{</span> setup <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;adze&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Set our active level to &#39;info&#39; which is equivalent to 3</span></span>
<span class="line"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  activeLevel<span class="token operator">:</span> <span class="token string">&#39;info&#39;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> logger <span class="token operator">=</span> adze<span class="token punctuation">.</span>withEmoji<span class="token punctuation">.</span>timestamp<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> logger<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>When we run our application, all alert, error, warning, and info logs will render and all other logs will be hidden.</p><p>Since we would still like to see our log in <code>index.ts</code>, let&#39;s change that to an info level.</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token comment">// ./src/index.ts</span></span>
<span class="line"><span class="token keyword">import</span> logger <span class="token keyword">from</span> <span class="token string">&#39;./logger&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Change -&gt; logger.log(&#39;Logging from the index.&#39;);</span></span>
<span class="line">logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#39;Logging from the index.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="structured-logging-json" tabindex="-1"><a class="header-anchor" href="#structured-logging-json"><span>Structured Logging (JSON)</span></a></h2><p>Now that we have our active log level configured, we decide that what&#39;s best for our application is to generate logs as structured data, also known as JSON logs.</p><p>Adze comes with four log formatters built in:</p><ul><li><a class="route-link" href="/reference/formatters.html#pretty-formatter"><strong>Pretty</strong></a> - Human readable, pretty printed logs.</li><li><a class="route-link" href="/reference/formatters.html#json-formatter"><strong>JSON</strong></a> - Machine readable, structured JSON logs.</li><li><a class="route-link" href="/reference/formatters.html#common-formatter"><strong>Common</strong></a> - Logs that conform to the <a href="https://en.wikipedia.org/wiki/Common_Log_Format" target="_blank" rel="noopener noreferrer">Common Log Format</a></li><li><a class="route-link" href="/reference/formatters.html#standard-formatter"><strong>Standard</strong></a> - Logs that are human-readable but formatted for stdout in backend/terminal environments.</li></ul><p>Let&#39;s configure our shared logger to output as JSON.</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token comment">// ./src/logger.ts</span></span>
<span class="line"><span class="token keyword">import</span> adze<span class="token punctuation">,</span> <span class="token punctuation">{</span> setup <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;adze&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Set the format to &quot;json&quot;</span></span>
<span class="line"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  activeLevel<span class="token operator">:</span> <span class="token string">&#39;info&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  format<span class="token operator">:</span> <span class="token string">&#39;json&#39;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> logger <span class="token operator">=</span> adze<span class="token punctuation">.</span>withEmoji<span class="token punctuation">.</span>timestamp<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> logger<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now run the code.</p><h4 id="example-output" tabindex="-1"><a class="header-anchor" href="#example-output"><span>Example Output</span></a></h4><p>Oops! When we run our code we ge the following error:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">Error: Required fields are missing from the log meta for generating a JSON log.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><p>Certain formatters require specific meta data for generating the logs.</p><p>In this case, the <strong>JSON formatter</strong> requires the following fields:</p><ul><li><strong>hostname</strong> - The name of the machine or client that is running the code.</li><li><strong>name</strong> - The name of the application that is running.</li></ul><p>There are two ways we can provide this meta data to the logger.</p><p>The first way is through the <code>setup</code> function. The second way is by the <code>meta</code> modifier.</p><p>Adze also provides a convenient type (<a class="route-link" href="/reference/formatters.html#jsonlogformatmeta-interface"><code>JsonLogFormatMeta</code></a>) that can be used for type safety when adding the meta data.</p><h4 id="by-the-setup-function" tabindex="-1"><a class="header-anchor" href="#by-the-setup-function"><span>By the setup function</span></a></h4><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token comment">// ./src/logger.ts</span></span>
<span class="line"><span class="token keyword">import</span> adze<span class="token punctuation">,</span> <span class="token punctuation">{</span> setup<span class="token punctuation">,</span> <span class="token keyword">type</span> <span class="token class-name">JsonLogFormatMeta</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;adze&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Set the format to &quot;json&quot;</span></span>
<span class="line"><span class="token generic-function"><span class="token function">setup</span><span class="token generic class-name"><span class="token operator">&lt;</span>JsonLogFormatMeta<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  activeLevel<span class="token operator">:</span> <span class="token string">&#39;info&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  format<span class="token operator">:</span> <span class="token string">&#39;json&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  meta<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    hostname<span class="token operator">:</span> <span class="token string">&#39;localhost&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    name<span class="token operator">:</span> <span class="token string">&#39;myapp&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> logger <span class="token operator">=</span> adze<span class="token punctuation">.</span>withEmoji<span class="token punctuation">.</span>timestamp<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> logger<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="by-the-meta-modifier" tabindex="-1"><a class="header-anchor" href="#by-the-meta-modifier"><span>By the meta modifier</span></a></h4><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token comment">// ./src/logger.ts</span></span>
<span class="line"><span class="token keyword">import</span> adze<span class="token punctuation">,</span> <span class="token punctuation">{</span> setup<span class="token punctuation">,</span> <span class="token keyword">type</span> <span class="token class-name">JsonLogFormatMeta</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;adze&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Set the format to &quot;json&quot;</span></span>
<span class="line"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  activeLevel<span class="token operator">:</span> <span class="token string">&#39;info&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  format<span class="token operator">:</span> <span class="token string">&#39;json&#39;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> logger <span class="token operator">=</span> adze</span>
<span class="line">  <span class="token punctuation">.</span><span class="token generic-function"><span class="token function">meta</span><span class="token generic class-name"><span class="token operator">&lt;</span>JsonLogFormatMeta<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    hostname<span class="token operator">:</span> <span class="token string">&#39;localhost&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    name<span class="token operator">:</span> <span class="token string">&#39;myapp&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span>withEmoji<span class="token punctuation">.</span>timestamp<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> logger<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="example-output-1" tabindex="-1"><a class="header-anchor" href="#example-output-1"><span>Example Output</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">{&quot;v&quot;:1,&quot;level&quot;:3,&quot;levelName&quot;:&quot;info&quot;,&quot;name&quot;:&quot;myapp&quot;,&quot;hostname&quot;:&quot;localhost&quot;,&quot;msg&quot;:&quot;Logging from the index.&quot;,&quot;args&quot;:[],&quot;pid&quot;:1,&quot;time&quot;:&quot;2024-08-21T10:15:38-04:00&quot;}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><p>Notice, even though we configured the <code>withEmoji</code> modifier on the logger, no emoji is rendered. This is because not every formatter will abide by every configuration value. It would not make sense to include emoji&#39;s in a machine-readable log.</p><p>Before continuing, let&#39;s change our format back to the default of <code>&quot;pretty&quot;</code> and remove the meta data.</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token comment">// ./src/logger.ts</span></span>
<span class="line"><span class="token keyword">import</span> adze<span class="token punctuation">,</span> <span class="token punctuation">{</span> setup <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;adze&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Set the format to &quot;json&quot;</span></span>
<span class="line"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  activeLevel<span class="token operator">:</span> <span class="token string">&#39;info&#39;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> logger <span class="token operator">=</span> adze<span class="token punctuation">.</span>withEmoji<span class="token punctuation">.</span>timestamp<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> logger<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="create-a-custom-log-level" tabindex="-1"><a class="header-anchor" href="#create-a-custom-log-level"><span>Create a Custom Log Level</span></a></h2><p>Sometimes when we use a logger it can be useful to create a custom log level.</p><p>For instance, let&#39;s say that we want an error logger that is less important than the default error level and the same importance as a warning. We can create a custom log level to handle this condition.</p><p>Let&#39;s create a new log level named <strong>&quot;issue&quot;</strong>.</p><p>To create the log level we first must create a <code>LevelConfig</code> object. If you are using TypeScript you can import the type from Adze to assist with filling out the required fields.</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token comment">// ./src/logger.ts</span></span>
<span class="line"><span class="token keyword">import</span> adze<span class="token punctuation">,</span> <span class="token punctuation">{</span> setup<span class="token punctuation">,</span> <span class="token keyword">type</span> <span class="token class-name">LevelConfig</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;adze&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Here we create the configuration for our new custom level named &quot;issue&quot;</span></span>
<span class="line"><span class="token keyword">const</span> issue<span class="token operator">:</span> LevelConfig <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  levelName<span class="token operator">:</span> <span class="token string">&#39;issue&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  level<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">  method<span class="token operator">:</span> <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  style<span class="token operator">:</span></span>
<span class="line">    <span class="token string">&#39;padding-right: 32px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #fff, #ffd1d1); color: #a4000f; border-color: #e3bbbb;&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  terminalStyle<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;white&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bgRed&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  emoji<span class="token operator">:</span> <span class="token string">&#39;🔥&#39;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  activeLevel<span class="token operator">:</span> <span class="token string">&#39;info&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  levels<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    issue<span class="token punctuation">,</span> <span class="token comment">// &lt;-- Add the issue level configuration value here.</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> logger <span class="token operator">=</span> adze<span class="token punctuation">.</span>withEmoji<span class="token punctuation">.</span>timestamp<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> logger<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now that we have added our custom log level, let&#39;s go to <code>index.ts</code> and write a log for our new level.</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token comment">// ./src/index.ts</span></span>
<span class="line"><span class="token keyword">import</span> logger <span class="token keyword">from</span> <span class="token string">&#39;./logger&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#39;Logging from the index.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">logger<span class="token punctuation">.</span><span class="token function">custom</span><span class="token punctuation">(</span><span class="token string">&#39;issue&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;An issue has occurred that needs attention.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="example-output-2" tabindex="-1"><a class="header-anchor" href="#example-output-2"><span>Example Output</span></a></h4><p><img src="/assets/custom-log-example-DZpmISRj.png" alt="Example of custom log level output"></p><hr><p>Adze will always apply namespaces in an additive manner. Inherited namespaces will never be overwritten by subsequent calls to the <code>namespace</code> modifier.</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/adzejs/adze/edit/main/getting-started/configuration.md" aria-label="Edit this page" rel="noopener noreferrer" target="_blank"><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->Edit this page<!----></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: astacy@stratacache.com">Andrew Stacy</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: ajstacy@gmail.com">Andrew Stacy</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/getting-started/setup.html" aria-label="Setup"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Setup</span></div></a><a class="route-link auto-link next" href="/getting-started/annotation.html" aria-label="Log Annotation"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>Log Annotation</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-CiZ6VypJ.js" defer></script>
  </body>
</html>
